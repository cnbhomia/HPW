GAMS 25.1.1  r66732 Released May 19, 2018 WEX-WEI x86 64bit/MS Windows - 07/25/18 10:18:50 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


       
      This model is the refinery model from HPWilliams book.
       
   6   
   7  sets
   8      fluid 'all flows in refinery' /c1,c2,LN,MN,HN,LO,HO,RES,RGAS,COIL,CGAS,REG, PRE, JET, OIL, LUB/
   9      crude 'crude oils' /c1,c2/
  10      oper 'refinery operations' /DIS,REF,CRK1,CRK2,BLD1,BLD2,BLD3/
  11      inter 'intermediates in the operation' /LN,MN,HN,LO,HO,RES,RGAS,COIL,CGAS/
  12      products 'final products' /REG, PRE, JET, OIL, LUB/
  13      direc /in , out/
  14      ;
  15   
  16   
  17  set flow(oper,direc,fluid);
  18   
  19  table flow(oper,direc,fluid)
  20            c1    c2  LN  MN  HN  LO  HO  RES RGAS COIL CGAS REG PRE   JET OIL LUB
  21  DIS.in     1    1
  22  DIS.out             1   1   1   1   1    1
  23  REF.in              1   1   1
  24  REF.out                                       1
  25  CRK1.in                         1   1
  26  CRK1.out                                           1    1
  27  CRK2.in                                  1
  28  CRK2.out                                                                       1
  29  BLD1.in             1   1   1
  30  BLD1.out                                                    1   1
  31  BLD2.in                         1   1    1          1
  32  BLD2.out                                                             1
  33  BLD3.in                         1   1    1          1
  34  BLD3.out                                                                  1
  35   
  36  ;
  37   
  38  variable mass(oper,direc,fluid);
  39   
  40  equation
  41      DISmassbal(oper) 'mass balance across distillation';
  42   
  43  massbal(oper)$(val(oper)='DIS').. sum((direc,fluid)$ flow(flow,'in',fluid),mass(oper,,direc,fluid)) =e= sum((direc,fluid)$ flow(flow,'out',fluid),mass(oper,,direc,fluid));
****        $140       $140    $119,140,8,36,409
****   8  ')' expected
****  36  '=' or '..' or ':=' or '$=' operator expected
****      rest of statement ignored
**** 119  Number (primary) expected
**** 140  Unknown symbol
**** 409  Unrecognizable item - skip to find a new statement
****        looking for a ';' or a key word to get started again
  44   
  45   
  46   
      table proflo(process,flow) 'massflow in and out of processes'
              c1  c2  LN  MN  HN  LO HO   RES RGAS    COIL CGAS REG PRE JET OIL LUB
      dist    -1  -1  1   1   1   1   1   1   0       0      0   0   0   0   0    0
      refo    0   0   -1  -1  -1  0   0   0   1       0      0   0   0   0   0    0
      cracoil 0   0   0   0   0   -1  -1  0   0       1      1   0   0   0   0    0
      cracres 0   0   0   0   0   0   0   -1  0       0      0   0   0   0   0    1
      blend1  0   0   -1  -1  -1  0   0   0   -1      0     -1   1   1   0   0    0
      blend2  0   0   0   0   0   -1  -1  -1  0       0      0   0   0   1   0    0
      blend3  0   0   0   0   0   -1  -1  -1   0      -1     0   0   0   0   1    0
      ;
       
       
       
      variable mass(flow) 'mass flow of each R/M , intermediate and product';
       
       
      equations distillation(flow,process);
       
      distillation(flow,process).. sum(proflo(process,flow)$
       

**** 7 ERROR(S)   0 WARNING(S)


COMPILATION TIME     =        0.000 SECONDS      3 MB  25.1.1 r66732 WEX-WEI


USER: Chintan Bhomia, Single User License            G180612/0001CN-GEN
      GAMS Development, Fairfax                                 DC14199


**** FILE SUMMARY

Input      C:\Users\cnbho\Documents\GitHub\HPW\refinery\refinery.gms
Output     C:\Users\cnbho\Documents\GitHub\HPW\refinery\refinery.lst

**** USER ERROR(S) ENCOUNTERED
