$ontext
This code is for the problem 12.3 from H P William book

$offtext

sets
    p 'ps' /p1*p7/
    mac 'machines'  /G1*G4, VD1,VD2, HD1*HD3,borer,planer/
    grind(mac)      / G1*G4/
    vdrill(mac)     /VD1,VD2/
    hdrill(mac)     /HD1*HD3/
    bor(mac)        /borer/
    pln(mac)       /planer/
    month 'months' /Jan, Feb, Mar, Apr, May, Jun/
    ;

table time(mac,p)  'time required'
            p1       p2     p3      p4      p5      p6      p7
G1*G4       0.5     0.7     0       0       0.3     0.2     0.5
VD1*VD2     0.1     0.2     0       0.3     0       0.6     0
HD1*HD3     0.2     0       0.8     0       0       0       0.6
borer       0.05    0.03            0.07    0.1             0.08
planer                      0.01            0.05            0.05
;

display time
$ontext
parameter avail (mac,month) 'availability of machine';
avail(mac,month) =1;
*avail('G1','Jan') = 0;
*avail('HD1','Feb') = 0;
*avail('HD2','Feb') = 0;
*avail('borer','Mar') = 0;
*avail('VD1','April') = 0;
*avail('G1' 'VD1','May') = 0;


table avail(mac,month) 'machine availability'
       Jan  Feb Mar Apr May Jun
G1      0   1   1   1   0   1
G2      1   1   1   1   1   1
G3      1   1   1   1   1   1
G4      1   1   1   1   1   1
VD1     1   1   1   0   0   1
VD2     1   1   1   1   1   1
HD1     1   0   1   1   1   0
HD2     1   0   1   1   1   1
HD3     1   1   1   1   1   1
borer   1   1   0   1   1   1
planer  1   1   1   1   1   0
;
$offtext
table marketing(p,month) 'marketing constraints of each product each month'
        Jan     Feb     Mar     Apr     May     Jun
p1      500     600     300     200     0       500
p2      1000    500     600     300     100     500
p3      300     200     0       400     500     100
p4      300     0       0       500     100     300
p5      800     400     500     200     1000    1100
p6      200     300     400     0       300     500
p7      100     150     100     100     0       60
;


parameter profit(p)
    /   p1   10
        p2   6
        p3   8
        p4   4
        p5   11
        p6   9
        p7   3/;

parameter tgrind(grind,p);
tgrind(grind,p)=time(grind,p);


parameter process(mac,p) 'whether process applies or not';
process(mac,p)$(time(mac,p)) = 1;


variable storage(p,month);
storage.up(p,month) = 100;

