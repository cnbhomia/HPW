GAMS 25.1.1  r66732 Released May 19, 2018 WEX-WEI x86 64bit/MS Windows - 07/09/18 18:02:24 Page 1
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
C o m p i l a t i o n


      following is the model from HP Williams book.
      Focus is oil blennding, production, selling strategy. Model title is Food Manufacture 1
   5   
   6  sets
   7      Oil 'oils' /veg1,veg2,oil1*oil3/
   8      veg(oil) /veg1,veg2/
   9      nonveg(oil)/oil1*oil3/
  10      month 'months in planning' / Jan,Feb, Mar, Apr,May, June, July/
  11      ;
  12   
  13  table price(month,oil) 'cost price of veg oil in the future'
  14        veg1      veg2    oil1    oil2    oil3
  15  jan     110     120     130     110     115
  16  feb     130     130     110     90      115
  17  mar     110     140     130     100     95
  18  apr     120     110     120     120     125
  19  may     100     120     150     110     105
  20  june    90      100     140     80      135
  21   
  22  ;
  23   
  24  parameters
  25        hardness(Oil) 'hardness of veg oils'
  26        / veg1    8.8
  27          veg2    6.1
  28          oil1    2.0
  29          oil2    4.2
  30          oil3    5.0/
  31   
  32       storagecost 'cost of storage $/tonn' /5.0/
  33       refinelimitVEG 'limit per oil (tonn)' / 200/
  34       refinelimitNVEG 'limit per oil (tonn)' /250/
  35       sellprice ' selling price of blended oil $/tonn ' / 150/
  36       ;
  37   
  38  variables
  39       RMpur(oil,month) 'amountof oil purchased each month'
  40       RMused(oil,month) ' amount of oil used each month'
  41       Produced(month) 'amount of blending oil produded each month'
  42       RMstock(oil,month) 'amount of oil in stock'
  43  *spec       'hardness of final oil'
  44       profit
  45       ;
  46  *fixed variables,
  47       RMstock.fx(oil,'Jan') = 500 ;
  48       RMstock.up(oil,month) = 1000 ;
  49   
  50   
  51   
  52  equations
  53       massbalance(month) ' material balance each month'
  54       specshigh(month) 'hardness specification upto 6'
  55       specslow(month) ' hardness specification above 3'
  56       storecalc(oil,month) ' calculation of storage inventory'
  57       refiningVEG 'capacity'
  58       refiningNVEG 'capacity'
  59       objective ' profit equation'
  60       ;
  61   
  62  massbalance(month).. Produced(month) =e= sum(oil,RMused(oil,month)) ;
  63   
  64  specshigh(month)..        6*Produced(month) =g= sum(oil,RMused(oil,month)*hardness(oil)) ;
  65   
  66  specslow(month)..        3*Produced(month) =l= sum(oil,RMused(oil,month)*hardness(oil)) ;
  67   
  68  storecalc(oil,month)..   RMstock(oil,month ++1 ) =e= RMstock(oil,month) + RMpur(oil,month) - RMused(oil,month);
  69   
  70  refiningVEG(month)..   sum(oil$veg(oil),RMused(oil,month)) =l= 200 ;
  71   
  72  refiningNVEG(month)..  sum(oil$nonveg(oil),RMused(oil,month)) =l= 250 ;
  73   
  74  objective..  profit =e= sum(month,Produced(month) * sellprice) - sum((oil,month), RMpur(oil,month)*price(month,oil) + RMstock(oil,month)*storagecost);
  75   
  76   
  77   
  78   
  79   
  80   
  81   
  82   
            cost_storage 'storage cost $/tonn' /5.0/
            ProdLimVeg /200/
            ProdLimNVeg /250/
            sellprice ' selling price of product ' /150/;
            ;
      *Defining storage limitations
      positive variable
              storage(oil,month) ' amount of oil stored each month';
              storage.up(oil,month) = 1000;
              storage.fx(oil,'Jan')= 500;
              storage.fx(oil,'june')= 500;
       
      *variables declaration
      positive Variables
              rawmat(oil,month) 'amount of each oil purchased each month tonn/month'
              rawmatused(oil,month) 'amount of raw mat used each month'
              product(month) 'amount of blended product made and sold'
              spec 'hardness spec in product' /lo 3 , up 6/
              ;
      variable    profit 'objective variable';
       
      equations
          massbalance(month) 'material mabance equation each month'
          storecalc(oil,month) 'storage calculation'    
          prodLimitVeg(month) 'production limit equations'
          prodLimitNVeg(month) 'production limit equations'
          hardnessup(month) 'hardness limitation on product'
          hardnesslow(month) 'hardness limitation on product'
          cost ' cost of production'
          ;
       
      storecalc(oil,month).. storage(oil,month+1) =e= storage(oil,month) + rawmat(oil,month) - rawmatused(oil,month) ;
      massbalance(month).. sum(oil,rawmatused(oil,month)) =e= product(month);
      hardnessup(month).. sum(oil, hardness(oil)*rawmatused(oil,month))-6*product(month) =l=0 ;
      hardnesslow(month).. sum(oil, hardness(oil)*rawmatused(oil,month))-3*product(month) =g=0 ;
      prodLimitVeg(month).. sum(oil$veg(oil),rawmatused(oil,month)) =l= ProdLimVeg;
      prodLimitNVeg(month).. sum(oil$nonveg(oil),rawmatused(oil,month)) =l= ProdLimNVeg;
       
      cost.. profit =e= sum((oil,month), sellprice*product(month) - rawmat(oil,month)*price(monthoil) - storage(oil,month)*cost_storage)    ;
       
      model food1 /all/;
      option limrow=100
      solve food1 using LP maximizing profit;
       
 129   
 130   
 131   
 132   


COMPILATION TIME     =        0.000 SECONDS      3 MB  25.1.1 r66732 WEX-WEI
GAMS 25.1.1  r66732 Released May 19, 2018 WEX-WEI x86 64bit/MS Windows - 07/09/18 18:02:24 Page 2
G e n e r a l   A l g e b r a i c   M o d e l i n g   S y s t e m
E x e c u t i o n


EXECUTION TIME       =        0.000 SECONDS      4 MB  25.1.1 r66732 WEX-WEI


USER: Chintan Bhomia, Single User License            G180612/0001CN-GEN
      GAMS Development, Fairfax                                 DC14199


**** FILE SUMMARY

Input      C:\Users\cnbho\Documents\GAMSStudio\workspace\HPW\food1try2.gms
Output     C:\Users\cnbho\Documents\GAMSStudio\workspace\HPW\food1try2.lst
